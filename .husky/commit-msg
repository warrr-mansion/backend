#!/bin/sh
commit_message=$(head -n 1 "$1")

if ! echo "$commit_message" | grep -Eq '^(ğŸ‰ init|:tada: init|'\
'âœ¨ feat|:sparkles: feat|'\
'ğŸ› fix|:bug: fix|'\
'ğŸ’„ design|:lipstick: design|'\
'ğŸ¨ style|:art: style|'\
'ğŸ“ docs|:memo: docs|'\
'â™»ï¸ refactor|:recycle: refactor|'\
'âœ… test|:white_check_mark: test|'\
'ğŸ‘· chore|:construction_worker: chore|'\
'ğŸšš rename|:truck: rename|'\
'ğŸ”¥ remove|:fire: remove|'\
'âš¡ï¸ improve|:zap: improve|'\
'ğŸš§ wip|:necktie: wip|'\
'ğŸ’© poo|:poop: poo|'\
'ğŸ» drunk|:beers: drunk|'\
'ğŸ‘½ external|:alien: external|'\
'ğŸ‘” feat|:necktie: feat|'\
'ğŸ”€ merge|:twisted_rightwards_arrows: merge): .+$'; then
    echo "ğŸš« Error: Commit message does not follow the convention!"
    exit 1
fi